"use strict";const e=require("vue");require("../../../../node_modules/.pnpm/echarts@5.6.0/node_modules/echarts/index.js");const l=require("../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/lodash.js");;/* empty css            */const g=require("../../../../_virtual/_plugin-vue_export-helper.js"),p=require("../../../../node_modules/.pnpm/echarts@5.6.0/node_modules/echarts/lib/core/echarts.js"),E={class:"echarts-wrap","element-loading-text":"数据加载中,请稍后"},O=e.defineComponent({name:"ZbEchartsComponents"}),q=Object.assign(O,{props:{opts:{type:Object,defualt:{},required:!0}},setup(r,{expose:v}){const c=r,n=e.ref(),s=e.ref(),d=l.lodashExports.debounce(f,300),h=l.lodashExports.debounce(()=>{var t;n.value&&((t=n.value)==null||t.resize())},300),a=new ResizeObserver(h);e.watch(()=>c.opts,t=>{console.log(t,"props.opts change"),n.value||(n.value=e.markRaw(p.init(s.value))),d(t)},{deep:!0});function f(t){var o;let i={...t};(o=n.value)==null||o.clear(),setTimeout(()=>{var u;(u=n.value)==null||u.setOption(i,!0)},300)}function b(){s.value&&a.observe(s.value)}function _(){s.value&&a.unobserve(s.value)}function m(){n.value=e.markRaw(p.init(s.value)),n.value.setOption(c.opts,!0),b()}return e.onMounted(()=>{m()}),e.onBeforeUnmount(()=>{var t;_(),(t=n.value)==null||t.dispose()}),v({echartsInstance:n}),(t,i)=>{const o=e.resolveDirective("loading");return e.withDirectives((e.openBlock(),e.createElementBlock("div",E,[e.createElementVNode("div",{class:"echarts-container",id:"echarts-container",ref_key:"echartsContainer",ref:s},null,512)])),[[o,r.opts.loading]])}}}),w=g(q,[["__scopeId","data-v-b4c15366"]]);module.exports=w;
